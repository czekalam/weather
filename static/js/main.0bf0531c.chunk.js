(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){},42:function(e,t,a){e.exports=a(63)},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},59:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),s=a(6),i=a(7),u=a(9),l=a(8),p=a(10),m=a(68),h=a(67),d=(a(47),a(48),a(72)),f=(a(49),a(19)),b=a(65),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleChange=function(e){a.setState({value:e.target.value})},a.handleSubmit=function(e){a.props.history.push("/".concat(a.state.value))},a.state={value:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"search"},r.a.createElement(b.a,{to:{pathname:"/"},style:{textDecoration:"none"}},r.a.createElement("p",{className:"title"},"Weather Search")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{className:"text-input",type:"text",value:this.state.value,onChange:this.handleChange}),r.a.createElement("button",{className:"submit"},r.a.createElement(f.a,{icon:"search"}))))}}]),t}(n.Component),E=Object(d.a)(v),y=a(71),g=a(69),j=a(18),O=a(25),w=a(66),k=a(70),C=(a(59),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).createMarkers=function(){for(var e=[],t=a.props.places?a.props.places:function(){return 0},n=0;n<t.length;n++){var c=t[n].coord;e[n]=r.a.createElement(w.a,{place:t[n],onClick:function(e){return a.props.history.push("/".concat(e.target.options.place.name))},position:[c.Lat,c.Lon]},r.a.createElement(k.a,null,t[n].name))}return e},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"markers"},this.createMarkers())}}]),t}(n.Component)),N=Object(d.a)(C),x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).mapInteract=function(e){a.setViewCoords(),a.searchViewPlaces(e.target._zoom)},a.setViewCoords=function(){var e=a.refs.map.leafletElement.getBounds();a.setState({view:e})},a.searchViewPlaces=function(e){var t=a.state.view;if(!t)return 0;var n=t._northEast.lng,r=t._southWest.lng,c=t._northEast.lat,o=t._southWest.lat;e>7&&fetch("http://api.openweathermap.org/data/2.5/box/city?bbox=".concat(n,",").concat(c,",").concat(r,",").concat(o,",").concat(e,"&appid=10eef0d5859a79e048209ecd86701ac1")).then(function(e){return e.json()}).then(function(e){return a.setState({markers:e.list})}).catch(function(e){return console.log(e)})},a.state={markers:null,view:null},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){this.state.view||this.setViewCoords(),this.props.coords&&!this.state.markers&&this.searchViewPlaces(8)}},{key:"render",value:function(){var e=this.props.center?this.props.center:this.props.coords?[this.props.coords.latitude,this.props.coords.longitude]:[0,0],t=this.props.zoom?this.props.zoom:8;return r.a.createElement("div",{className:"map"},r.a.createElement(y.a,{onMoveEnd:this.mapInteract,center:e,zoom:t,ref:"map"},r.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(N,{places:this.state.markers})))}}]),t}(n.Component),S={setView:function(e){return{type:"SET_VIEW",view:e}},setItems:function(e){return{type:"SET_ITEMS",items:e}}},M=Object(j.b)(function(e){return{items:e.items,view:e.view}},S)(Object(O.geolocated)()(x)),D=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(M,null)}}]),t}(n.Component),_=(a(35),a(39)),I=a.n(_),T=(a(62),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).chart=null,a.configureChart=function(){var e=o.a.findDOMNode(a.chart),t=a.props.days.map(function(e){return new Date(e.dt_txt)}),n=a.props.days.map(function(e){return Math.round(e.main.temp-273.15)}),r=a.props.days.map(function(e){return e.rain?e.rain["3h"]:""});new I.a(e,{type:"bar",data:{datasets:[{label:"Rain",yAxisID:"Rain",data:r,type:"bar",backgroundColor:"#ff4"},{label:"Temperature",yAxisID:"Temperature",data:n,type:"line",backgroundColor:"#9f9",pointBackgroundColor:"rgba(0, 0, 0, 0)",pointBorderColor:"rgba(0, 0, 0, 0)"}],labels:t},options:{legend:{display:!0,position:"bottom"},scales:{yAxes:[{id:"Temperature",display:!0,ticks:{beginAtZero:!0}},{id:"Rain",display:!0,ticks:{beginAtZero:!0}}],xAxes:[{type:"time",time:{unit:"day"}}]}}})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.configureChart()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"graph",style:{width:"500px"}},r.a.createElement("canvas",{ref:function(t){e.chart=t}}))}}]),t}(r.a.Component)),V=a(20),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).filterResults=function(){var e=a.props.keyword;fetch("http://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=10eef0d5859a79e048209ecd86701ac1")).then(function(e){return e.json()}).then(function(e){return a.setState({result:e})}).catch(function(e){return console.log(e)}),fetch("http://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=10eef0d5859a79e048209ecd86701ac1")).then(function(e){return e.json()}).then(function(e){return a.setState({days:e})}).catch(function(e){return console.log(e)})},a.cloud=function(e){return e<33?r.a.createElement(f.a,{icon:V.d}):e<66?r.a.createElement(f.a,{icon:V.b}):e<=100?r.a.createElement(f.a,{icon:V.a}):""},a.wind=function(e){return 0===e?"N":e<90?"NE":90===e?"E":e<180?"SE":180===e?"S":e<270?"SW":270===e?"W":e<360?"NW":void 0},a.state={result:"",days:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.filterResults()}},{key:"render",value:function(){var e=this.state.result;return console.log(e),r.a.createElement("div",{className:"result"},200===e.cod?r.a.createElement("div",{className:"data"},r.a.createElement("p",{className:"name"},e.name),r.a.createElement("p",{className:"clouds"}," ",this.cloud(e.clouds.all)),r.a.createElement("div",{className:"temperature"},r.a.createElement("div",{className:"average"},Math.round(e.main.temp-273.15),"\xb0C"),r.a.createElement("div",{className:"maxmin"},r.a.createElement("div",{className:"max"},"max ",Math.round(e.main.temp_max-273.15),"\xb0C"),r.a.createElement("div",{className:"min"},"min ",Math.round(e.main.temp_min-273.15),"\xb0C"))),r.a.createElement("p",null,"Wind ",e.wind.speed+"m/s "+this.wind(e.wind.deg)),r.a.createElement("p",null,"Coords ",e.coord.lat+" "+e.coord.lon),r.a.createElement("p",null,"Humidity ",e.main.humidity,"%"),r.a.createElement("p",null,"Pressure ",e.main.pressure,"hPa"),r.a.createElement("div",{className:"suntime"},r.a.createElement("img",{alt:"sunrise",src:"https://img.icons8.com/color/48/000000/sunrise.png"}),new Date(1e3*e.sys.sunrise).getHours(),":",new Date(1e3*e.sys.sunrise).getMinutes(),r.a.createElement("img",{alt:"sunset",src:"https://img.icons8.com/color/48/000000/sunset.png"}),new Date(1e3*e.sys.sunset).getHours(),":",new Date(1e3*e.sys.sunset).getMinutes())):"")}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={forecast:null},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.city;fetch("http://api.openweathermap.org/data/2.5/forecast?q=".concat(t,"&appid=10eef0d5859a79e048209ecd86701ac1")).then(function(e){return e.json()}).then(function(t){return e.setState({forecast:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.forecast;return r.a.createElement("div",{className:"days"},r.a.createElement(W,{keyword:this.props.match.params.city}),e?r.a.createElement(T,{days:e.list}):"")}}]),t}(n.Component),z=(Object(d.a)(A),Object(j.b)(function(e){return{items:e.items}},{})(Object(O.geolocated)()(A)));a(22).b.add(V.c);var P=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app container"},r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(h.a,{path:"/weather/",component:E}),r.a.createElement(h.a,{exact:!0,path:"/weather/",component:D}),r.a.createElement(h.a,{exact:!0,path:"/weather/:city",component:z}))))}}]),t}(n.Component),R=a(16),B=a(40),q=Object(R.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ITEMS":return t.items;default:return e}},view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIEW":return t.view;default:return e}}}),H=Object(R.d)(q,Object(R.a)(B.a));o.a.render(r.a.createElement(j.a,{store:H},r.a.createElement(P,null)),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.0bf0531c.chunk.js.map